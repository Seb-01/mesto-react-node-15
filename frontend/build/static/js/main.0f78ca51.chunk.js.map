{"version":3,"sources":["components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","utils/Api.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/PopupWithoutForm/PopupWithoutForm.js","components/InfoToolTip2/InfoToolTip2.js","components/Form/Form.js","components/Login/Login.js","components/Registration/Registration.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","reportWebVitals.js","index.js","images/logo_mesto_header.svg","images/success_pic.svg","images/unsuccess_pic.svg","images/photo_j_i_kusto.jpg"],"names":["Header","props","react_default","a","createElement","className","src","logo","alt","email","react_router","exact","path","type","aria-label","onClick","onSignOut","react_router_dom","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","concat","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","link","name","onCardClick","onCardLike","length","Main","Fragment","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","Card_Card","key","Footer","Date","getFullYear","PopupWithForm","isOpen","onSubmit","title","children","buttonSubmitText","onClose","ImagePopup","api","Api","options","Object","classCallCheck","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","_this","request","fetch","method","then","_checkResponse","_this2","newHeaders","jwt","localStorage","getItem","cardId","_this3","cardData","_this4","body","JSON","stringify","profileData","_this5","job","newAvatar","_this6","_this7","password","_this8","Accept","Content-Type","_this9","data","token","setItem","_this10","EditProfilePopup","_React$useState","useState","_React$useState2","slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","handleChange","event","target","value","useEffect","PopupWithForm_PopupWithForm","e","preventDefault","onUpdateUser","id","placeholder","minlenght","maxlenght","required","onChange","EditAvatarPopup","avatarLink","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","PopupWithoutForm","InfoToolTip2","PopupWithoutForm_PopupWithoutForm","successReg","success_pic","unsuccess_pic","Form","Login","setEmail","setPassword","Form_Form","onLogin","Registration","possibleConstructorReturn","getPrototypeOf","call","state","bind","assertThisInitialized","handleSubmit","_event$target","setState","defineProperty","onRegister","Component","withRouter","ProtectedRoute","_ref","component","objectWithoutProperties","loggedIn","_useState","_useState2","setCards","_useState3","_useState4","setCurrentUser","_useState5","_useState6","setLoggedIn","_useState7","_useState8","userEmail","setUserEmail","_useState9","_useState10","isSuccessRegLog","setIsSuccessRegLog","handleSuccessRegLog","setPopups","objectSpread","popups","isInfoToolTipOpen","history","useHistory","getUserProfile","userData","catch","err","console","log","getContent","push","checkToken","getInitialCards","_useState11","_useState12","selectedCard","setSelectedCard","_useState13","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","_useState14","closeAllPopups","evt","Provider","Header_Header","logoMestoHeader","removeItem","components_ProtectedRoute_ProtectedRoute","changeLikeCardStatus","newCard","c","deleteCard","filter","components_Registration_Registration","register","Login_Login","login","EditProfilePopup_EditProfilePopup","newProfile","saveNewProfile","AddPlacePopup_AddPlacePopup","addCard","toConsumableArray","EditAvatarPopup_EditAvatarPopup","updateAvatar","ImagePopup_ImagePopup","InfoToolTip2_InfoToolTip2","successPic","unsuccessPic","Footer_Footer","reportWebVitals","onPerfEntry","Function","__webpack_require__","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","App_App","module","exports","p"],"mappings":"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","file":"static/js/main.0f78ca51.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Link, Switch } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={props.logo} alt=\"Лого Mesto Russia\" />\r\n      <div className=\"header__authorization-place\">\r\n        <p className=\"header__email\">{props.email}</p>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <button\r\n              className=\"header__link-button\"\r\n              type=\"button\"\r\n              aria-label=\"Link button\"\r\n              onClick={props.onSignOut}\r\n            >\r\n              Выйти\r\n            </button>\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Link to=\"/sign-in\" className=\"header__link\">\r\n              Войти\r\n            </Link>\r\n          </Route>\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Link to=\"/sign-up\" className=\"header__link\">\r\n              Регистрация\r\n            </Link>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\n// создаем новый объект контекста и эспортируем его\r\n// специальный способ передачи данных одновременно во все компоненты поддерева или даже всего приложения\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  // подписываемся на контекст CurrentUserContext\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `elements__trash-button ${\n    isOwn ? \"\" : \"elements__trash-button_hidden\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `elements__like-button ${\n    isLiked ? \"elements__like-button_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"elements__card\">\n      <button\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        aria-label=\"Trash button\"\n        onClick={handleDeleteClick}\n      ></button>\n      <img\n        className=\"elements__photo\"\n        src={props.card.link}\n        alt={props.card.name}\n        // не забываем добавить обработчик клика на карточке\n        onClick={handleClick}\n      />\n      <div className=\"elements__wrapper\">\n        <h2 className=\"elements__title\">{props.card.name}</h2>\n        <div className=\"elements__like-zone-wrapper\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Like button\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"elements__likes-number\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\r\nimport Card from \"../Card/Card\";\r\n\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  // подписываемся на контекст CurrentUserContext\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      {/* -- profile -- */}\r\n      <section className=\"profile\">\r\n        <button\r\n          className=\"profile__edit-avatar-button\"\r\n          type=\"button\"\r\n          aria-label=\"Edit button\"\r\n          onClick={props.onEditAvatar}\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар пользователя\"\r\n          />\r\n        </button>\r\n\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__wrapper\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              type=\"button\"\r\n              aria-label=\"Edit button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          aria-label=\"Add button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      {/* elements */}\r\n      <section className=\"elements\">\r\n        {/* карточки отображаем */}\r\n        {props.cards.map((item) => (\r\n          <Card\r\n            key={item._id}\r\n            card={item}\r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; {new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_target_${props.name} ${\r\n        props.isOpen && \"popup_opened\"\r\n      }`}\r\n    >\r\n      {/* Правильно подставляем имя формы! */}\r\n      {/* edit-avatar (EditAvatar),  edit-profile (EditProfile),  add-place (AddPlace), confirm-delete (ConfirmDelete) */}\r\n\r\n      <div className=\"popup__container\">\r\n        <form\r\n          name={props.name}\r\n          className={`popup__form popup__${props.name}-form`}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n\r\n          {/* тут будет вложенное содержимое в виде JSX-разметки */}\r\n          {props.children}\r\n\r\n          <button className=\"popup__save-button\" type=\"submit\">\r\n            {props.buttonSubmitText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          aria-label=\"Close button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_target_picture-view ${\r\n        props.card._id && \"popup_opened\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__picture-container\">\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          aria-label=\"Close button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <figure className=\"popup__figure-picture\">\r\n          <img\r\n            className=\"popup__picture\"\r\n            src={props.card.link}\r\n            alt={props.card.name}\r\n          />\r\n          <figcaption className=\"popup__figure-caption\">\r\n            {props.card.name}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","// import { cohort, token } from \"./utils\";\n\n/** Класс Api, который предоставляет методы для запросов к сервису mesto\n *\n */\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  /** Приватный метод, который проверяет ответ от сервера\n   * @param {object} res - значение, переданное resolve (вызывается при успешном запросе) при создании промиса\n   */\n  _checkResponse(res) {\n    // console.log(`Проверка результат ${res}`);\n    // console.log(`Проверка результат ${res.ok}`);\n    // console.log(JSON.stringify(res));\n\n    if (res.ok) {\n      // Метод json читает ответ от сервера в формате json и возвращает промис для обработки следующим then\n      return res.json();\n    }\n    // если ошибка, отклоняем промис\n    return Promise.reject(`Ошибка выполнении запроса к серверу: ${res.status}`);\n  }\n\n  /** Публичный метод для загрузки карточек\n   *\n   */\n  getInitialCards() {\n    const request = this._baseUrl + \"/cards\";\n    // возвращаем промис\n    return (\n      fetch(request, {\n        method: \"GET\",\n        headers: this._headers,\n      })\n        // выполнится, если промис исполнен. Аргумент - функция обработчик успешного выполнения промиса\n        .then((res) => this._checkResponse(res))\n    );\n  }\n\n  /** Публичный метод для загрузки пользовательского профиля\n   *\n   */\n  getUserProfile() {\n    const request = this._baseUrl + \"/users/me\";\n    const newHeaders = this._headers;\n    const jwt = localStorage.getItem(\"jwt\");\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    newHeaders[\"Authorization\"] = `Bearer ${jwt}`;\n\n    return fetch(request, {\n      method: \"GET\",\n      headers: newHeaders,\n    }).then((res) => this._checkResponse(res));\n  }\n\n  /** Публичный метод для удаления карточки\n   * @param {object} formPopup - экземпляр popup с подтверждением удаления карточки\n   */\n  deleteCard(cardId) {\n    const request = this._baseUrl + `/cards/${cardId}`;\n    // удаляем элемент с сервера\n    return fetch(request, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkResponse(res));\n  }\n\n  /** Публичный метод для добавления карточки\n   * @param {object} cardData - данные карточки\n   */\n  addCard(cardData) {\n    const request = this._baseUrl + \"/cards\";\n    const newHeaders = this._headers;\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    // отправляем запрос на добавление карточки\n    return fetch(request, {\n      method: \"POST\",\n      headers: newHeaders,\n      body: JSON.stringify({\n        name: cardData.name,\n        link: cardData.link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  /** Публичный метод для сохранения данных профиля пользователя\n   * @param {object} profileData - данные карточки\n   */\n  saveNewProfile(profileData) {\n    const request = this._baseUrl + \"/users/me\";\n    const jwt = localStorage.getItem(\"jwt\");\n    const newHeaders = this._headers;\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    newHeaders[\"Authorization\"] = `Bearer ${jwt}`;\n\n    // отправляем запрос\n    return fetch(request, {\n      method: \"PATCH\",\n      headers: newHeaders,\n      body: JSON.stringify({\n        name: profileData.name,\n        about: profileData.job,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  /** Публичный метод для Обновления автара в профиле пользователя\n   * @param {object} newAvatar - ссылка на новый аватар\n   */\n  updateAvatar(newAvatar) {\n    const request = this._baseUrl + \"/users/me/avatar\";\n    const newHeaders = this._headers;\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    // отправляем запрос\n    return fetch(request, {\n      method: \"PATCH\",\n      headers: newHeaders,\n      body: JSON.stringify({\n        avatar: newAvatar.link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  // /** Публичный метод для удаления лайка карточки\n  //  * @param {object} cardId - id карточки\n  //  */\n  // deleteLike(cardId) {\n  //   const request = this._baseUrl + `/cards/${cardId}/likes`;\n  //   // отправляем запрос\n  //   return fetch(request, {\n  //     method: \"DELETE\",\n  //     headers: this._headers,\n  //   }).then((res) => this._checkResponse(res));\n  // }\n\n  // /** Публичный метод для лайка карточки\n  //  * @param {object} cardId - id карточки\n  //  */\n  // likeCard(cardId) {\n  //   const request = this._baseUrl + `/cards/${cardId}/likes`;\n\n  //   const newHeaders = this._headers;\n  //   const jwt = localStorage.getItem(\"jwt\");\n  //   newHeaders[\"Content-Type\"] = \"application/json\";\n  //   newHeaders[\"Authorization\"] = `Bearer ${jwt}`;\n\n  //   // отправляем запрос\n  //   return fetch(request, {\n  //     method: \"PUT\",\n  //     // headers: this._headers,\n  //     headers: newHeaders,\n  //   }).then((res) => this._checkResponse(res));\n  // }\n\n  /** Изменить статус лайка на противоположный))\n   *\n   * @param {*} cardID\n   * @param {*} isLiked\n   */\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    const request = this._baseUrl + `/cards/${cardId}/likes`;\n\n    const newHeaders = this._headers;\n    const jwt = localStorage.getItem(\"jwt\");\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    newHeaders[\"Authorization\"] = `Bearer ${jwt}`;\n\n    // отправляем запрос\n    return fetch(request, {\n      method: method,\n      // headers: this._headers,\n      headers: newHeaders,\n    }).then((res) => this._checkResponse(res));\n  }\n\n  /** создать (зарегистрировать) пользователя\n   *\n   */\n  register(password, email) {\n    const request = this._baseUrl + \"/signup\";\n    // console.log(JSON.stringify({ email, password }));\n\n    return (\n      fetch(request, {\n        method: \"POST\",\n        // headers: this._headers,\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\" },\n        // JSON.stringify - для преобразования объекта в JSON\n        body: JSON.stringify({ email, password }),\n      })\n        // выполнится, если промис исполнен. Аргумент - функция обработчик успешного выполнения промиса\n        .then((res) => this._checkResponse(res))\n    );\n  }\n\n  /** авторизация пользователя\n   *\n   */\n  login(password, email) {\n    const request = this._baseUrl + \"/signin\";\n\n    return (\n      fetch(request, {\n        method: \"POST\",\n        // headers: this._headers,\n        headers: { \"Content-Type\": \"application/json\" },\n        // JSON.stringify - для преобразования объекта в JSON\n        body: JSON.stringify({ password, email }),\n      })\n        // выполнится, если промис исполнен. Аргумент - функция обработчик успешного выполнения промиса\n        .then((res) => this._checkResponse(res))\n        .then((data) => {\n          if (data.token) {\n            // сохраняем токен\n            localStorage.setItem(\"jwt\", data.token);\n            return data;\n          } else {\n            return;\n          }\n        })\n    );\n  }\n\n  /** проверка токена\n   *\n   */\n  getContent(token) {\n    const request = this._baseUrl + \"/users/me\";\n    // newHeaders = this._headers;\n    const newHeaders = this._headers;\n    const jwt = localStorage.getItem(\"jwt\");\n    newHeaders[\"Content-Type\"] = \"application/json\";\n    newHeaders[\"Authorization\"] = `Bearer ${jwt}`;\n\n    // console.log(`Токен: ${jwt}`);\n    return (\n      fetch(request, {\n        method: \"GET\",\n        headers: newHeaders,\n      })\n        // выполнится, если промис исполнен. Аргумент - функция обработчик успешного выполнения промиса\n        .then((res) => this._checkResponse(res))\n        .then((data) => {\n          return data;\n        })\n    );\n  }\n}\n\n// Здесь создаем экземпляр класса Api с нужными параметрами, включая токен, и экспортируем этот экземпляр вместо самого класса\n// export const api = new Api({\n//   baseUrl: `https://mesto.nomoreparties.co/v1/${cohort}`,\n//   headers: { authorization: token },\n// });\n\nexport const api = new Api({\n  baseUrl: 'https://api.seb.students.nomoredomains.icu',\n  // baseUrl: 'http://localhost:3001',\n  // headers: { authorization: token },\n  headers: {\n    'Content-Type':'application/json'\n  },\n});\n\n\n// // Здесь создаем экземпляр класса Api и экспортируем этот экземпляр вместо самого класса\n// export const apiAuth = new Api({\n//   baseUrl: \"https://auth.nomoreparties.co\",\n//   headers: { \"Content-Type\": \"application/json\" },\n// });\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  // подписываемся на контекст CurrentUserContext\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Добавляем стейты, которые привяжем к полям ввода (управляемые компоненты) в форме\r\n  // name\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  // description\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  // После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\r\n  // Нужно также следить за isOpen (за состоянием открытия), чтобы вставлять в инпуты данные пользователя,\r\n  // иначе, если мы удалим информацию из инпутов и просто закроем попап,\r\n  // то при следующем открытии инпуты будут пустые (без данных пользователя)\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  //обработчик изменения input\r\n  function handleChange(event) {\r\n    const target = event.target;\r\n    // обновляем стейты в зависимости от имени поля: name или job\r\n    target.name === \"name\"\r\n      ? setName(target.value)\r\n      : setDescription(target.value);\r\n  }\r\n\r\n  // обработчик Submit формы\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name: name,\r\n      job: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonSubmitText=\"Cохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            id=\"name-input\"\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_field_name\"\r\n            value={name}\r\n            name=\"name\"\r\n            placeholder=\"Введите имя\"\r\n            minlenght=\"2\"\r\n            maxlenght=\"40\"\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"popup__input-error name-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            id=\"job-input\"\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_field_job\"\r\n            value={description}\r\n            name=\"job\"\r\n            placeholder=\"Введите род занятий\"\r\n            minlenght=\"2\"\r\n            maxlenght=\"200\"\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"popup__input-error job-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  // записываем объект, возвращаемый хуком, в переменную\r\n  // этот объект присваиваем элементу input с помощью атрибута ref, чтобы получить доступ к нему и его значению!\r\n  const avatarLink = React.useRef(null);\r\n\r\n  // очищать инпуты нужно при открытии (монтировании)\r\n  // чтобы пользователь мог сразу же еще раз добавить что-то новое\r\n  // и ему не пришлось бы очищать инпуты вручную перед этим\r\n  React.useEffect(() => {\r\n    avatarLink.current.value = \"\";\r\n  }, [props.isOpen]);\r\n\r\n  // обработчик Submit формы\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateAvatar({\r\n      link: avatarLink.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonSubmitText=\"Cохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            id=\"avatar-link-input\"\r\n            className=\"popup__input popup__input_field_link\"\r\n            name=\"link\"\r\n            placeholder=\"Сcылка на аватар\"\r\n            type=\"url\"\r\n            required\r\n            ref={avatarLink}\r\n          />\r\n          <span className=\"popup__input-error avatar-link-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  // Добавляем стейты, которые привяжем к полям ввода (управляемые компоненты) в форме\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  // очищать инпуты нужно при открытии (монтировании)\r\n  // чтобы пользователь мог сразу же еще раз добавить что-то новое\r\n  // и ему не пришлось бы очищать инпуты вручную перед этим\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  //обработчик изменения input\r\n  function handleChange(event) {\r\n    const target = event.target;\r\n    // в поле current React запишет указатель на DOM-элемент, когда будет формировать DOM-дерево\r\n    // обновляем стейты в зависимости от имени поля: name или link\r\n    target.name === \"name\" ? setName(target.value) : setLink(target.value);\r\n  }\r\n\r\n  // обработчик Submit формы\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-place\"\r\n      title=\"Новое место\"\r\n      buttonSubmitText=\"Cоздать\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            id=\"mesto-name-input\"\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_field_mesto-name\"\r\n            name=\"name\"\r\n            value={name}\r\n            placeholder=\"Название\"\r\n            minlenght=\"2\"\r\n            maxlenght=\"30\"\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"popup__input-error mesto-name-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            id=\"link-input\"\r\n            className=\"popup__input popup__input_field_link\"\r\n            name=\"link\"\r\n            value={link}\r\n            placeholder=\"Сcылка на картинку\"\r\n            type=\"url\"\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n          <span className=\"popup__input-error link-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithoutForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_target_${props.name} ${props.isOpen &&\r\n        \"popup_opened\"}`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        {/* тут будет вложенное содержимое в виде JSX-разметки */}\r\n        {props.children}\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          aria-label=\"Close button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithoutForm;\r\n","import React from \"react\";\r\nimport PopupWithoutForm from \"../PopupWithoutForm/PopupWithoutForm\";\r\n\r\nfunction InfoToolTip2(props) {\r\n  return (\r\n    <PopupWithoutForm isOpen={props.isOpen} onClose={props.onClose}>\r\n      {props.successReg ? (\r\n        <div className=\"popup__success-container\">\r\n          <img\r\n            className=\"popup__success-pic\"\r\n            src={props.success_pic}\r\n            alt=\"Pic success\"\r\n          />\r\n\r\n          <p className=\"popup__exclamation\">\r\n            Вы успешно\r\n            <br />\r\n            зарегистрировались!\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"popup__success-container\">\r\n          <img\r\n            className=\"popup__success-pic\"\r\n            src={props.unsuccess_pic}\r\n            alt=\"Pic unsuccess\"\r\n          />\r\n\r\n          <p className=\"popup__exclamation\">\r\n            Что-то пошло не так!\r\n            <br />\r\n            Попробуйте еще раз.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </PopupWithoutForm>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip2;\r\n","import React from \"react\";\r\n\r\nfunction Form(props) {\r\n  return (\r\n    <div className=\"form__container\">\r\n      <form name={props.name} onSubmit={props.onSubmit}>\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n\r\n        <fieldset className=\"form__info\">\r\n          <label className=\"form__field\">\r\n            <input\r\n              id=\"email-input\"\r\n              type=\"text\"\r\n              className=\"form__input\"\r\n              value={props.email}\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              minlenght=\"2\"\r\n              maxlenght=\"40\"\r\n              required\r\n              onChange={props.onChange}\r\n            />\r\n            <span className=\"popup__input-error name-input-error\"></span>\r\n          </label>\r\n          <label className=\"form__field\">\r\n            <input\r\n              id=\"password-input\"\r\n              type=\"password\"\r\n              className=\"form__input\"\r\n              value={props.password}\r\n              name=\"password\"\r\n              placeholder=\"Пароль\"\r\n              minlenght=\"2\"\r\n              maxlenght=\"200\"\r\n              required\r\n              onChange={props.onChange}\r\n            />\r\n            <span className=\"popup__input-error job-input-error\"></span>\r\n          </label>\r\n        </fieldset>\r\n\r\n        <button className=\"form__submit-button\" type=\"submit\">\r\n          {props.buttonSubmitText}\r\n        </button>\r\n      </form>\r\n      {/* тут будет вложенное содержимое в виде JSX-разметки */}\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Form from \"../Form/Form\";\r\n\r\nfunction Login(props) {\r\n  // Добавляем стейты, которые привяжем к полям ввода (управляемые компоненты) в форме\r\n  // name\r\n  const [email, setEmail] = React.useState(\"\");\r\n  // description\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  //обработчик изменения input\r\n  function handleChange(event) {\r\n    const target = event.target;\r\n    // обновляем стейты в зависимости от имени поля: email или password\r\n    target.name === \"email\"\r\n      ? setEmail(target.value)\r\n      : setPassword(target.value);\r\n  }\r\n\r\n  // обработчик Submit формы\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    props.onLogin(password, email);\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      name={props.name}\r\n      title={props.title}\r\n      email={email}\r\n      password={password}\r\n      buttonSubmitText={props.buttonSubmitText}\r\n      onSubmit={handleSubmit}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport Form from \"../Form/Form\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass Registration extends React.Component {\r\n  constructor(props) {\r\n    // Добавляем стейты, которые привяжем к полям ввода (управляемые компоненты) в форме\r\n    super(props);\r\n    this.state = {\r\n      password: \"\",\r\n      email: \"\",\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  //обработчик изменения input\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  // обработчик Submit формы\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.props.onRegister(this.state.password, this.state.email);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Form\r\n          name={this.props.name}\r\n          title={this.props.title}\r\n          email={this.state.email}\r\n          password={this.state.password}\r\n          buttonSubmitText={this.props.buttonSubmitText}\r\n          onSubmit={this.handleSubmit}\r\n          onChange={this.handleChange}\r\n        >\r\n          <Link to=\"/sign-in\" className=\"form__login-link\">\r\n            Уже зарегистрированы? Войти\r\n          </Link>\r\n        </Form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Registration);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\nimport { useEffect, useState } from \"react\";\n\nimport logoMestoHeader from \"../../../src/images/logo_mesto_header.svg\";\nimport successPic from \"../../../src/images/success_pic.svg\";\nimport unsuccessPic from \"../../../src/images/unsuccess_pic.svg\";\n\nimport avatar from \"../../../src/images/photo_j_i_kusto.jpg\";\n\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\n\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n//import { api, apiAuth } from \"../../utils/Api\";\nimport { api } from \"../../utils/Api\";\n\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\nimport InfoToolTip2 from \"../InfoToolTip2/InfoToolTip2\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport Login from \"../Login/Login\";\nimport Registration from \"../Registration/Registration\";\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport { withRouter, useHistory } from \"react-router-dom\";\n\nfunction App() {\n  // переменная состояния, отвечающая за стейт данных о карточках\n  const [cards, setCards] = useState([]);\n\n  // данные текущего пользователя\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    _id: \"\",\n  });\n\n  // стейт-переменная со статусом пользователя - вошел в систему или нет?\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  // стейт-переменная с email пользователя\n  const [userEmail, setUserEmail] = useState(\"\");\n\n  // стейт-переменная с результатом регистрации\n  const [isSuccessRegLog, setIsSuccessRegLog] = useState(false);\n\n  function handleLogin(userEmail) {\n    setLoggedIn(true);\n    setUserEmail(userEmail);\n  }\n\n  function handleSuccessRegLog(res) {\n    if (res) setIsSuccessRegLog(true);\n    else setIsSuccessRegLog(false);\n    setPopups({\n      ...popups, // здесь мы копируем текущее состояние объекта\n      isInfoToolTipOpen: true, //здесь перезаписываем свойство isInfoToolTipOpen\n    });\n  }\n\n  const history = useHistory();\n\n  // разлогон делаем\n  function onSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    setUserEmail(\"\");\n    history.push(\"/sign-in\");\n  }\n\n  // добавляем эффект, вызываемый при монтировании компонента, который будет совершать\n  // запрос в API за профилем пользователя\n  useEffect(() => {\n    if (loggedIn) {\n      api\n        .getUserProfile()\n        // обрабатываем полученные данные и деструктурируем ответ от сервера, чтобы было понятнее, что пришло\n        .then((userData) => {\n          // меняем состояние профиля пользователя\n          // console.log(userData);\n          setCurrentUser(userData);\n        })\n        .catch((err) => {\n          console.log(`Ошибка при запросе данных пользователя: ${err}!`);\n        });\n    }\n  }, [loggedIn]);\n\n  // Проверка токена\n  function checkToken() {\n    // если у пользователя есть токен в localStorage,\n    // эта функция проверит валидность токена\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      // apiAuth\n      api\n        .getContent(jwt)\n        .then((res) => {\n          // console.log(jwt);\n          // console.log(JSON.stringify(res));\n          if (res) {\n            // setUserEmail(res.data.email);\n            setUserEmail(res.email);\n            setLoggedIn(true);\n          }\n          history.push(\"/\");\n        })\n        .catch((err) => {\n          console.log(`Ошибка при проверке токена: ${err}!`);\n        });\n    }\n  }\n\n  //\n  useEffect(() => {\n    checkToken();\n  }, [loggedIn]);\n\n  // обработчик клика на кнопку лайк\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    // const isLiked = false;\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        // теперь нужно эту карточку в нашем стейте найти и проапдейтить. Это вызовет ее перерисовку!\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(`Ошибка при обновлении данных карточки: ${err}!`);\n      });\n  }\n\n  // обработчик удаления карточки\n  function handleCardDelete(card) {\n    // Отправляем запрос в API на удаление карточки\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        // теперь нужно эту карточку убрать из нашего стейта. Это вызовет ее перерисовку (удаление из DOM)!\n        // создаем копию массива, исключив из него удалённую карточку\n        // колбэк обновит существующую коллекцию из стейта — на вход идет значение текущего стейта,\n        // на выход — не совершенно новое (ключи!), а обновленное значение (коллекция без удаляемой карточки):\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(`Ошибка при удалении карточки: ${err}!`);\n      });\n  }\n\n  // добавляем эффект, вызываемый при монтировании компонента, который будет совершать\n  // запрос в API за карточками\n  useEffect(() => {\n    if (loggedIn) {\n      api\n        .getInitialCards()\n        // обрабатываем полученные данные деструктурируем ответ от сервера, чтобы было понятнее, что пришло\n        .then((cards) => {\n          // карточки загружаем\n          // console.log(cards);\n          setCards(cards);\n        })\n        .catch((err) => {\n          console.log(`Ошибка при запросе карточек: ${err}!`);\n        });\n    }\n  }, [loggedIn]);\n\n  // переменная состояния, отвечающая за полноразмерную картинку\n  // {} т.к. ожидаем что здесь будет объект с данными карточки\n  const [selectedCard, setSelectedCard] = useState({});\n\n  // обработчики нажатия на карточку\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  // переменные состояния, отвечающие за видимость попапов\n  const [popups, setPopups] = useState({\n    isEditProfilePopupOpen: false,\n    isAddPlacePopupOpen: false,\n    isEditAvatarPopupOpen: false,\n    isInfoToolTipOpen: false,\n  });\n\n  // обработчики нажатия на кнопки\n  function handleEditAvatarClick(evt) {\n    setPopups({\n      ...popups, // здесь мы копируем текущее состояние объекта\n      isEditAvatarPopupOpen: true, //здесь перезаписываем свойство isEditAvatarPopupOpen\n    });\n  }\n\n  function handleEditProfileClick(evt) {\n    setPopups({\n      ...popups, // здесь мы копируем текущее состояние объекта\n      isEditProfilePopupOpen: true, //здесь перезаписываем свойство isEditProfilePopupOpen\n    });\n  }\n\n  function handleAddPlaceClick(evt) {\n    setPopups({\n      ...popups, // здесь мы копируем текущее состояние объекта\n      isAddPlacePopupOpen: true, //здесь перезаписываем свойство isAddPlacePopupOpen\n    });\n  }\n\n  // закрытие попапов\n  function closeAllPopups(evt) {\n    setPopups({\n      isEditProfilePopupOpen: false,\n      isAddPlacePopupOpen: false,\n      isEditAvatarPopupOpen: false,\n      isInfoToolTipOpen: false,\n    });\n\n    setSelectedCard({});\n  }\n\n  // обработчик изменения профиля пользователя\n  function handleUpdateUser(newProfile) {\n    // запрос на сервер: сохранить новые данные пользователя\n    api\n      .saveNewProfile(newProfile)\n      // обрабатываем полученные данные и деструктурируем ответ от сервера, чтобы было понятнее, что пришло\n      .then((userData) => {\n        // меняем состояние профиля пользователя\n        setCurrentUser({\n          ...currentUser,\n          name: userData.name,\n          about: userData.about,\n        });\n        // закрываем все модальные окна\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка при сохранении данных пользователя: ${err}!`);\n      });\n  }\n\n  // обработчик изменения аватара пользователя\n  function handleUpdateAvatar(newAvatar) {\n    // запрос на сервер: сохранить новые данные пользователя\n    api\n      .updateAvatar(newAvatar)\n      // обрабатываем полученные данные и деструктурируем ответ от сервера, чтобы было понятнее, что пришло\n      .then((userData) => {\n        // меняем состояние профиля пользователя\n        setCurrentUser({\n          ...currentUser,\n          avatar: userData.avatar,\n        });\n        // закрываем все модальные окна\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка при сохранении аватара пользователя: ${err}!`);\n      });\n  }\n\n  // обработчик добавления новой карточки\n  function handleAddPlaceSubmit(cardData) {\n    api\n      .addCard(cardData)\n      // обновляем стейт cards с помощью расширенной копии текущего массива — используя spred оператор ...\n      .then((newCard) => {\n        // меняем стейт с набором карточек\n        // console.log(JSON.stringify(newCard));\n        setCards([newCard, ...cards]);\n        // закрываем все модальные окна\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка при сохранении новой карточки: ${err}!`);\n      });\n  }\n\n  // обработчик login submit\n  function handleLoginSubmit(password, email) {\n    // сюда добавим логику обработки формы логина\n    // Отправляем запрос в API регистрацию пользователя\n    // apiAuth\n    api\n      .login(password, email)\n      // здесь уже данные пользователя от сервера\n      .then((data) => {\n        if (data.token) {\n          handleLogin(email);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка при логине пользователя: ${err}!`);\n        handleSuccessRegLog(false);\n      });\n  }\n\n  // обработчик registration\n  function handleRegisterSubmit(password, email) {\n    // сюда добавим логику обработки формы регистрации\n    // Отправляем запрос в API регистрацию пользователя\n    // apiAuth\n    api\n      .register(password, email)\n      // здесь уже данные пользователя от сервера\n      .then((res) => {\n        // console.log(`Получаю результат registration: ${res}`);\n        if (res) {\n          history.push(\"/sign-in\");\n          handleSuccessRegLog(true);\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка при регистрации пользователя: ${err}!`);\n        handleSuccessRegLog(false);\n      });\n  }\n\n  return (\n    // внедряем общий контекст с помощью провайдера со значением стейта currentUser\n    <CurrentUserContext.Provider value={currentUser}>\n      <div>\n        <Header\n          logo={logoMestoHeader}\n          email={userEmail}\n          onSignOut={onSignOut}\n          // goToRegister={goToRegister}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            avatar={avatar}\n            name=\"Жак-Ив Кусто\"\n            about=\"Исследователь океана\"\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          {/* регистрация пользователей */}\n          <Route path=\"/sign-up\">\n            <Registration\n              name=\"registration\"\n              title=\"Регистрация\"\n              buttonSubmitText=\"Зарегистрироваться\"\n              onRegister={handleRegisterSubmit}\n            />\n          </Route>\n          {/* авторизация пользователей */}\n          <Route path=\"/sign-in\">\n            <Login\n              name=\"login\"\n              title=\"Вход\"\n              email={userEmail}\n              buttonSubmitText=\"Войти\"\n              onLogin={handleLoginSubmit}\n            />\n          </Route>\n        </Switch>\n\n        {/* popups */}\n        {/* профиль пользователя */}\n        <EditProfilePopup\n          isOpen={popups.isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        {/* добавление карточки */}\n        <AddPlacePopup\n          isOpen={popups.isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        {/* аватар пользователя */}\n        <EditAvatarPopup\n          isOpen={popups.isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        {/* конфирм удаления карточки */}\n        <PopupWithForm\n          name=\"confirm-delete\"\n          title=\"Вы уверены?\"\n          buttonSubmitText=\"Да\"\n        />\n        {/* показ карточки при клике на нее */}\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        {/* инфо о результате регистрации */}\n        <InfoToolTip2\n          isOpen={popups.isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          successReg={isSuccessRegLog}\n          success_pic={successPic}\n          unsuccess_pic={unsuccessPic}\n        />\n\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_mesto_header.51772f7c.svg\";","module.exports = __webpack_public_path__ + \"static/media/success_pic.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/unsuccess_pic.c32299fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/photo_j_i_kusto.0ef4e6b8.jpg\";"],"sourceRoot":""}